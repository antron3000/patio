<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction Data</title>
    <style>
        .transaction-data {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Transaction Data</h1>
    <div id="transactions"></div>

    <script>
        // Function to fetch transaction data and display them
        async function fetchAndDisplayTransactions() {
            const transactionsContainer = document.getElementById('transactions');

            try {
                // Fetch the transaction data from the server
                const response = await fetch('https://patio-webhook-9be052cf1c45.herokuapp.com/api/transactionDatas');
                if (!response.ok) {
                    throw new Error(`Error: ${response.statusText}`);
                }
                const transactions = await response.json();

                // Clear existing content
                transactionsContainer.innerHTML = '';

                // Loop through the transactions and add them to the page
                transactions.forEach((data, index) => {
                    const transactionElement = document.createElement('div');
                    transactionElement.className = 'transaction-data';
                    // Assuming the transaction data is a string and we want to display it
                    transactionElement.textContent = `Transaction Data ${index + 1}: ${data}`;
                    transactionsContainer.appendChild(transactionElement);
                });
            } catch (error) {
                // If an error occurs, display it
                transactionsContainer.innerHTML = `<p>Error fetching transactions: ${error.message}</p>`;
            }
        }

        // Call the function when the page loads
        fetchAndDisplayTransactions();

        // Set the function to be called every 5 seconds to update the transaction data
        setInterval(fetchAndDisplayTransactions, 5000);
    </script>
</body>
</html>
